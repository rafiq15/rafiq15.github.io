<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Docker Zero to Advanced</title>
    <link rel="stylesheet" href="../style.css" />
</head>

<body>
    <header>
        <h1>Docker zero to advanced</h1>
        <p><em>Published: August 2025</em></p>
    </header>

    <nav>
        <a href="../index.html">Home</a>
        <a href="../projects.html">Projects</a>
        <a href="../blog.html">Blog</a>
        <a href="../contact.html">Contact</a>
    </nav>

    <main>
        <div class="content">
            <h2>Introduction to Docker</h2>
            <p>Docker is a platform for developing, shipping, and running applications using containerization. It allows
                developers to package applications and all their dependencies into a standardized unit called a
                container.</p>
            <h2>What is Docker?</h2>
            <p>Docker is an open-source containerization platform.
                It allows you to package applications along with their dependencies, libraries, and configurations into
                containers.
                Containers are lightweight, portable, and consistent across different environments — development,
                testing, staging, and production.</p>
            <h2>Why use Docker?</h2>
            <p>Docker simplifies the process of application deployment, scaling, and management. It provides a
                consistent
                environment for applications, which helps eliminate the "it works on my machine" problem.</p>
            <h2>Getting Started with Docker</h2>
            <p>To start using Docker, you need to install Docker on your machine. You can download Docker Desktop for
                Windows or macOS, or install Docker Engine on Linux.</p>

            <h3>Key features of Docker containers include:</h3>
            <ul>
                <li>Isolation: Each container runs in its own environment, ensuring that applications do not interfere
                    with
                    each other.</li>
                <li>Portability: Docker containers can run on any system that has Docker installed, making it easy to
                    move
                    applications between development, testing, and production environments.</li>
                <li>Scalability: Containers can be easily scaled up or down to handle varying loads, making them
                    suitable for
                    microservices architectures.</li>
                <li>Efficiency: Containers share the host OS kernel, which reduces overhead compared to traditional VMs,
                    allowing for faster startup times and lower resource usage.</li>
                <li>Version Control: Docker images can be versioned, allowing developers to track changes and roll back
                    to
                    previous versions if needed.</li>
            </ul>

            <h2>Basic Commands</h2>
            <p>Here are some basic Docker commands to get you started:</p>
            <ul>
                <li><code>docker run</code>: Run a container from an image.</li>
                <li><code>docker ps</code>: List running containers.</li>
                <li><code>docker images</code>: List available Docker images.</li>
                <li><code>docker pull</code>: Download an image from Docker Hub.</li>
                <li><code>docker build</code>: Build a Docker image from a Dockerfile.</li>
                <li><code>docker exec</code>: Execute a command in a running container.</li>
                <li><code>docker stop <container_id></code>: Stop a running container.</li>
                <li><code>docker rm <container_id></code>: Remove a stopped container.</li>
                <li><code>docker rmi <image_id></code>: Remove a Docker image.</li>
                <li><code>docker ps -a</code>: Displays all containers (both running and stopped).</li>

            </ul>

            <h2>How to Dockerize Spring Boot Application</h2>
            <p>To Dockerize a Spring Boot application, follow these steps:</p>
            <ol>
                <li>Create a Dockerfile in the root directory of your Spring Boot project.</li>
                <li>Write the Dockerfile to specify how to build the Docker image.</li>
                Example Dockerfile:
                <pre>
                FROM openjdk:11-jre
                COPY target/your-app.jar app.jar
                ENTRYPOINT ["java", "-jar", "/app.jar"] 
                </pre>
                <li>Build the Docker image using the command <code>docker build -t your-image-name .</code></li>
                <li>Run the Docker container using <code>docker run -p 8080:8080 your-image-name</code></li>
                <li>Access your Spring Boot application at <code>http://localhost:8080</code>.</li>
            </ol>

            <h2>Docker image push to Docker Hub</h2>
            <p>To push your Docker image to Docker Hub, follow these steps:</p>
            <ol>
                <li>Log in to Docker Hub using the command <code>docker login</code>.</li>
                <li>Tag your image with your Docker Hub username:
                    <code>docker tag your-image-name your-dockerhub-username/your-image-name</code>.
                </li>
                <li>Push the image to Docker Hub: <code>docker push your-dockerhub-username/your-image-name</code>.</li>
                Example:
                <pre>
              docker tag api-gateway-service:latest bjitpdmad/api-gateway-service
              docker push bjitpdmad/api-gateway-service
                </pre>
            </ol>
            <h2>Docker pull image from Docker Hub</h2>
            <p>To pull your Docker image from Docker Hub, follow these steps:</p>
            <ol>
                <li>Log in to Docker Hub using the command <code>docker login</code>.</li>
                <li>Pull the image from Docker Hub: <code>docker pull your-dockerhub-username/your-image-name</code>.
                </li>
                Example:
                <pre>
              docker pull bjitpdmad/api-gateway-service
            </pre>
                <li>Run the pulled image using
                    <code>docker run -p 8080:8080 your-dockerhub-username/your-image-name</code>.
                </li>
            </ol>

            <h2>Example Workflow: Multi-Stage Build Debugging</h2>
            <p>When working with multi-stage builds in Docker, you might encounter issues that require debugging.
                Here’s a simple workflow to debug a multi-stage build:</p>
            <ol>
                <li>Start with a basic Dockerfile that uses multi-stage builds.</li>
                <li>Use the <code>docker build</code> command with the <code>--target</code> option to build a specific
                    stage.
                    For example, if you have a stage named "builder", you can run:
                    <pre>docker build --target builder -t my-app:builder .</pre>
                    <pre>docker build -t redis-build --target build .</pre>
                </li>
                <li>Run the container from the builder stage to inspect the environment:
                    <code>docker run -it redis-build bash</code>
                </li>
            </ol>
            <p>By running the container interactively, you can check the contents of the build stage, verify that
                dependencies are installed correctly, and troubleshoot any issues.</p>

            <h2>Understanding the Command:</h2>
            <p>The command
            <pre>docker run --rm -it my-app:builder</pre> does the following:</p>
            <ul>
                <li><code>docker run</code>: This command is used to create and start a new container from a specified
                    image.</li>
                <li><code>--rm</code>: This option automatically removes the container when it exits, keeping your
                    system
                    clean.</li>
                <li><code>-it</code>: This option allows you to run the container in interactive mode with a TTY, which
                    is useful for debugging.</li>
                <li><code>my-app:builder</code>: This specifies the image to run, where "my-app" is the name of the
                    image and "builder" is the tag or stage name.</li>
            </ul>
            <p>By using this command, you can enter the container and interact with it, allowing you to debug issues
                related to the multi-stage build.</p>

            <h2>Example Multi-Stage Dockerfile:</h2>
            <pre># Stage 1: Builder
            FROM gradle:8.5-jdk21 AS builder
            WORKDIR /app
            COPY . .
            RUN gradle build

            # Stage 2: Runtime
            FROM openjdk:21-jdk-slim
            WORKDIR /app
            COPY --from=builder /app/build/libs/my-app.jar .
            CMD ["java", "-jar", "my-app.jar"] 
            </pre>
            <p>This Dockerfile defines two stages: the first stage builds the application using Gradle, and the second
                stage runs the built application using OpenJDK.</p>

        </div>

    </main>

    <footer>
        &copy; 2025 Rafiq's Blog
    </footer>
</body>

</html>